<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Script - Admin Panel</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'indesign': '#FF3366',
                        'photoshop': '#31A8FF',
                        'illustrator': '#FF9A00',
                        'primary': '#2563EB',
                        'primary-dark': '#1D4ED8',
                    }
                }
            }
        }
    </script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../css/styles.css">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen pb-20 md:pb-0">
    <!-- Admin Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="flex items-center justify-between px-6 h-16">
            <!-- Logo -->
            <a href="dashboard.html" class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-lg flex items-center justify-center">
                    <i class="fas fa-code text-white text-lg"></i>
                </div>
                <span class="text-xl font-bold text-gray-900">Adoscript</span>
                <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">Admin</span>
            </a>

            <!-- Right side -->
            <div class="flex items-center gap-4">
                <a href="../index.html" target="_blank" class="text-gray-600 hover:text-primary transition-colors" title="View Site">
                    <i class="fas fa-external-link-alt"></i>
                </a>
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center">
                        <span class="text-primary text-sm font-semibold">A</span>
                    </div>
                    <span class="text-gray-700 font-medium hidden sm:block">Admin</span>
                </div>
                <a href="login.html" class="text-gray-600 hover:text-red-500 transition-colors" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="admin-sidebar bg-white shadow-sm p-4 hidden md:block">
            <nav class="space-y-1">
                <a href="dashboard.html" class="admin-nav-item">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="scripts.html" class="admin-nav-item">
                    <i class="fas fa-file-code"></i>
                    <span>All Scripts</span>
                </a>
                <a href="upload.html" class="admin-nav-item active">
                    <i class="fas fa-upload"></i>
                    <span>Upload Script</span>
                </a>
                <a href="orders.html" class="admin-nav-item">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Orders</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <div class="mb-8">
                <h1 class="text-2xl font-bold text-gray-900">Upload New Script</h1>
                <p class="text-gray-600">Add a new script to the marketplace</p>
            </div>

            <form id="upload-form" class="space-y-6">
                <!-- Basic Information -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Basic Information</h2>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="script-name" class="block text-sm font-medium text-gray-700 mb-2">Script Name *</label>
                            <input type="text" id="script-name" name="name" required
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                                   placeholder="Enter script name">
                        </div>

                        <div>
                            <label for="application" class="block text-sm font-medium text-gray-700 mb-2">Adobe Application *</label>
                            <select id="application" name="application" required
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="">Select application</option>
                                <option value="indesign">InDesign</option>
                                <option value="photoshop">Photoshop</option>
                                <option value="illustrator">Illustrator</option>
                            </select>
                        </div>

                        <div>
                            <label for="version" class="block text-sm font-medium text-gray-700 mb-2">Version</label>
                            <input type="text" id="version" name="version"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                                   placeholder="e.g., 1.0.0">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Price Type *</label>
                            <div class="flex gap-4">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="price_type" value="free" class="custom-radio" checked>
                                    <span class="ml-2 text-gray-700">Free</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="price_type" value="paid" class="custom-radio">
                                    <span class="ml-2 text-gray-700">Paid</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="price-input-container" class="mt-4 hidden">
                        <label for="price" class="block text-sm font-medium text-gray-700 mb-2">Price (USD) *</label>
                        <div class="relative max-w-xs">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <span class="text-gray-500">$</span>
                            </div>
                            <input type="number" id="price" name="price" step="0.01" min="0"
                                   class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                                   placeholder="0.00">
                        </div>
                    </div>

                    <div class="mt-6">
                        <label for="short-description" class="block text-sm font-medium text-gray-700 mb-2">Short Description * (max 200 characters)</label>
                        <input type="text" id="short-description" name="short_description" maxlength="200" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                               placeholder="Brief description for script cards">
                        <p class="text-sm text-gray-500 mt-1"><span id="char-count">0</span>/200 characters</p>
                    </div>
                </div>

                <!-- Script File Upload -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Script File</h2>

                    <div class="upload-zone cursor-pointer" onclick="document.getElementById('script-file').click()">
                        <input type="file" id="script-file" name="script_file" accept=".jsx,.jsxbin,.zip" class="hidden">
                        <div class="text-center">
                            <i class="fas fa-cloud-upload-alt text-gray-400 text-4xl mb-4"></i>
                            <p class="text-gray-600 mb-2">Drag and drop your script file here, or click to browse</p>
                            <p class="text-sm text-gray-500">Accepted formats: .jsx, .jsxbin, .zip (max 10MB)</p>
                        </div>
                        <div class="upload-preview mt-4"></div>
                    </div>
                </div>

                <!-- Full Description -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Full Description</h2>

                    <div class="border border-gray-300 rounded-lg overflow-hidden">
                        <div class="editor-toolbar bg-gray-50">
                            <button type="button" onclick="formatText('bold')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button type="button" onclick="formatText('italic')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button type="button" onclick="formatText('underline')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-underline"></i>
                            </button>
                            <span class="border-l border-gray-300 mx-2"></span>
                            <button type="button" onclick="formatText('insertUnorderedList')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-list-ul"></i>
                            </button>
                            <button type="button" onclick="formatText('insertOrderedList')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-list-ol"></i>
                            </button>
                            <span class="border-l border-gray-300 mx-2"></span>
                            <button type="button" onclick="formatText('formatBlock', 'h3')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-heading"></i>
                            </button>
                        </div>
                        <div id="full-description" class="editor-content" contenteditable="true">
                            <p>Enter your full script description here...</p>
                        </div>
                    </div>
                </div>

                <!-- Installation Instructions -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Installation Instructions</h2>

                    <div class="border border-gray-300 rounded-lg overflow-hidden">
                        <div class="editor-toolbar bg-gray-50">
                            <button type="button" onclick="formatText('bold', 'installation-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button type="button" onclick="formatText('italic', 'installation-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button type="button" onclick="formatText('insertOrderedList', 'installation-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-list-ol"></i>
                            </button>
                        </div>
                        <div id="installation-instructions" class="editor-content" contenteditable="true">
                            <p>Enter installation instructions here...</p>
                        </div>
                    </div>
                </div>

                <!-- Usage Instructions -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Usage Instructions</h2>

                    <div class="border border-gray-300 rounded-lg overflow-hidden">
                        <div class="editor-toolbar bg-gray-50">
                            <button type="button" onclick="formatText('bold', 'usage-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button type="button" onclick="formatText('italic', 'usage-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button type="button" onclick="formatText('insertOrderedList', 'usage-instructions')" class="p-2 hover:bg-gray-200 rounded">
                                <i class="fas fa-list-ol"></i>
                            </button>
                        </div>
                        <div id="usage-instructions" class="editor-content" contenteditable="true">
                            <p>Enter usage instructions here...</p>
                        </div>
                    </div>
                </div>

                <!-- Images -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Screenshots & Images</h2>

                    <div class="upload-zone cursor-pointer" onclick="document.getElementById('images').click()">
                        <input type="file" id="images" name="images" accept="image/*" multiple class="hidden">
                        <div class="text-center">
                            <i class="fas fa-images text-gray-400 text-4xl mb-4"></i>
                            <p class="text-gray-600 mb-2">Drag and drop images here, or click to browse</p>
                            <p class="text-sm text-gray-500">Accepted formats: JPG, PNG, GIF (max 5MB each)</p>
                        </div>
                        <div class="upload-preview mt-4 flex flex-wrap"></div>
                    </div>
                </div>

                <!-- Video URLs -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Video Tutorials</h2>

                    <div id="video-urls" class="space-y-4">
                        <div class="flex gap-4">
                            <input type="url" name="video_url[]"
                                   class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                                   placeholder="YouTube or Vimeo URL">
                            <button type="button" onclick="addVideoUrl()" class="px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-lg font-semibold text-gray-900 mb-4">Additional Information</h2>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="system-requirements" class="block text-sm font-medium text-gray-700 mb-2">System Requirements</label>
                            <textarea id="system-requirements" name="system_requirements" rows="3"
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none"
                                      placeholder="e.g., Adobe InDesign CC 2019+, macOS 10.14+"></textarea>
                        </div>

                        <div>
                            <label for="compatibility" class="block text-sm font-medium text-gray-700 mb-2">Compatibility Notes</label>
                            <textarea id="compatibility" name="compatibility" rows="3"
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none"
                                      placeholder="Any compatibility notes or requirements"></textarea>
                        </div>
                    </div>

                    <div class="mt-6">
                        <label for="tags" class="block text-sm font-medium text-gray-700 mb-2">Tags (comma separated)</label>
                        <input type="text" id="tags" name="tags"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                               placeholder="e.g., export, batch, pdf, automation">
                    </div>

                    <div class="mt-6">
                        <label for="changelog" class="block text-sm font-medium text-gray-700 mb-2">Changelog / Version Notes</label>
                        <textarea id="changelog" name="changelog" rows="4"
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none"
                                  placeholder="Version history and changes..."></textarea>
                    </div>
                </div>

                <!-- Actions -->
                <div class="bg-white rounded-xl shadow-sm p-6 flex flex-wrap gap-4 justify-end">
                    <button type="button" class="px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-save mr-2"></i>
                        Save as Draft
                    </button>
                    <button type="button" class="px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-eye mr-2"></i>
                        Preview
                    </button>
                    <button type="submit" class="px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition-colors">
                        <i class="fas fa-check mr-2"></i>
                        Publish Script
                    </button>
                </div>
            </form>
        </main>
    </div>

    <!-- Mobile Navigation -->
    <nav class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around py-2">
        <a href="dashboard.html" class="flex flex-col items-center py-2 px-4 text-gray-500">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs mt-1">Dashboard</span>
        </a>
        <a href="scripts.html" class="flex flex-col items-center py-2 px-4 text-gray-500">
            <i class="fas fa-file-code text-xl"></i>
            <span class="text-xs mt-1">Scripts</span>
        </a>
        <a href="upload.html" class="flex flex-col items-center py-2 px-4 text-primary">
            <i class="fas fa-upload text-xl"></i>
            <span class="text-xs mt-1">Upload</span>
        </a>
        <a href="orders.html" class="flex flex-col items-center py-2 px-4 text-gray-500">
            <i class="fas fa-shopping-cart text-xl"></i>
            <span class="text-xs mt-1">Orders</span>
        </a>
    </nav>

    <script src="../js/main.js"></script>
    <script>
        // Character counter
        const shortDesc = document.getElementById('short-description');
        const charCount = document.getElementById('char-count');

        shortDesc.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });

        // Price type toggle
        const priceRadios = document.querySelectorAll('input[name="price_type"]');
        const priceContainer = document.getElementById('price-input-container');

        priceRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'paid') {
                    priceContainer.classList.remove('hidden');
                } else {
                    priceContainer.classList.add('hidden');
                }
            });
        });

        // Rich text editor
        function formatText(command, elementId = 'full-description') {
            document.execCommand(command, false, null);
        }

        // Add video URL input
        function addVideoUrl() {
            const container = document.getElementById('video-urls');
            const newInput = document.createElement('div');
            newInput.className = 'flex gap-4';
            newInput.innerHTML = `
                <input type="url" name="video_url[]"
                       class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                       placeholder="YouTube or Vimeo URL">
                <button type="button" onclick="this.parentElement.remove()" class="px-4 py-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.appendChild(newInput);
        }

        // Form submission
        document.getElementById('upload-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Script would be published! (Demo mode - no backend)');
        });
    </script>
</body>
</html>
